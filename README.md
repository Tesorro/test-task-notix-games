# Search Page (Notix.Games Test Task)

## Что реализовано

- Поле поиска с дебаунсом, поддержкой Enter/Esc.
- Синхронизация `?q=` в URL (replace без засорения истории).
- Защита от гонок: `AbortController` + проверка актуальности ответа.
- UX-состояния: спиннер.
- Кэш результатов с TTL.

## Архитектура

- `SearchInput` — контролируемый инпут, debounced ввод, синк с URL.
- `SearchResults` — таблица.
- `search()` — API.
- `useSearchCache()` — простой кэш на `Map` (TTL).
- Глобальное состояние результатов — через Zustand.

## Борьба с гонками

- Каждый запрос создаёт свой `AbortController`. Перед запуском нового — предыдущий абортируется (экономит сеть).

## Синхронизация с URL

- При вводе (после дебаунса) `q` пишется в URL через `router.replace`, чтобы не плодить записи в истории.
- При монтировании начальное значение берётся из `?q=` и запускается поиск.

## UX-детали

- Дебаунс.
- Минимум 3 символа (порог включения поиска).
- Сброс поля, очистка результатов, удаление `?q`.

## Ошибки

- `AbortError` игнорируется как штатная отмена.

## Кэш

- Простая `Map<string, {data, ts}>` с TTL (по умолчанию 60 сек).
- При попадании в кэш возвращаем мгновенно.

## Запуск

- `pnpm i` / `npm i`
- `pnpm dev` / `npm run dev`

## Что можно было бы развить, но не судьба

- Виртуализация списка для 1k+ результатов.
- Подсветка совпадений.
- Тесты на гонки и навигацию (Playwright/Vitest).
